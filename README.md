Introduction
============

This repository is used as a way of maintaining my Gmail filters in a
semi-automated and semi-versioned way; leveraging the the work done in
the [gmail-britta](https://github.com/antifuchs/gmail-britta) project.

Generally, the files contained in the `input` directory contain the Ruby
DSL that is consumed by the `gmail-britta` project. These DSL files are
then used to generate XML files that can be directly consumed by Gmail,
via Gmail's UI for importing filters.

Assuming all the necessary dependencies are installed (`make`, `ruby`,
etc.), the resultant XML files can be generated by running `make` (in
the root directory of the project), and they will be placed in the
`output` directory.

Example
=======

The first time the repository is cloned, the `output` directory will be
empty:

    $ lstree
    ./
    ├─Gemfile
    ├─Gemfile.lock
    ├─input/
    │ ├─me@prakashsurya.com.rb
    │ └─prakash.surya@delphix.com.rb
    ├─Makefile
    ├─output/
    └─README.md

To generate the XML files that can be uploaded via Gmail's UI, we can
run `make`:

    $ make
    ruby input/me@prakashsurya.com.rb > output/me@prakashsurya.com.xml
    ruby input/prakash.surya@delphix.com.rb > output/prakash.surya@delphix.com.xml

As the above output shows, this will use the files contained in the
`input` directory to generate XML files in the `output` directory. After
running `make`, there should be a single XML file in the `output`
directory, for each Ruby file in the `input` directory:

    $ lstree
    ./
    ├─Gemfile
    ├─Gemfile.lock
    ├─input/
    │ ├─me@prakashsurya.com.rb
    │ └─prakash.surya@delphix.com.rb
    ├─Makefile
    ├─output/
    │ ├─me@prakashsurya.com.xml
    │ └─prakash.surya@delphix.com.xml
    └─README.md

These XML files can then be manually uploaded to Gmail to configure the
filters for each Gmail account (e.g. I have a seperate set of filters
for my work and personal Gmail accounts, and thus a seperate XML file is
generated for each account).
